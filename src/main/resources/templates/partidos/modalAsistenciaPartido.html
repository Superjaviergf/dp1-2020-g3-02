<meta charset="UTF-8" />

<!-- Modal Estadisticas -->
	<div class="modal fade" id="asistenciaPartidoModal" tabindex="-1"
		aria-labelledby="Asistencia a Partido" aria-hidden="true">
		<div class="modal-dialog modal-xl modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header bg-success">
					<h5 class="modal-title" id="staticBackdropLabel"></h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div id="contenedor-modal2"></div>
					<div class="row">
						
						<div class="col-lg-12 responsive">
							
							<table class="table table-sm table-striped table-bordered table-hover nowrap asistencia"
								cellspacing="0" width="100%" >
								<thead>
									<tr>
										<th>Jugador</th>
										<th>Ha llegado </th>
										<th>Asiste en</th>
									</tr>
								</thead>
							</table>
							
						</div>

					</div>
				</div>
				<div class="modal-footer"
					style="background: rgb(40, 167, 69); background: linear-gradient(0deg, rgba(40, 167, 69, 1) 0%, rgba(255, 255, 255, 1) 100%);">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Cerrar</button>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
	
						var tabla = null;
						
							function tablaAsistencia(boton,fecha,hora,id) {
								//var id = $(this).parent().find('#id').val();
								$(document).ready(
									function() {
																
									// Create DataTable
									$('#asistenciaPartidoModal').modal("show");
										if(tabla != null){
											tabla.destroy();
										}
												
											tabla = $('.asistencia').DataTable({
												"lengthMenu": [5,6,7,8,9,10],
												responsive: true,
												ajax:'[[@{/partidos/findjugadorespartido/}]]'+id,
												language:{
													emptyTable: "Ningún dato disponible en esta tabla",
													"info": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
													"infoEmpty":      "Mostrando 0 de 0 registros",
													"lengthMenu":     "Mostrando 5 registros",
													"search":         "Buscar:",
													"zeroRecords":    "No se encontraron resultados",
													"paginate": {
														"first":      "Primera",
														"last":       "Última",
														"next":       "Siguiente",
														"previous":   "Anterior"
													},
												},
												"columns" : [
													{"data" : "nombre",
														render : function(data,type,row) {
															if (row.numCamiseta != null) {
																return row.nombre +", "+ row.numCamiseta;
															} else {
																return data;
															}
														}
													},
													{data: "haLlegado"},

													{"data" : "propietario",
														render: function(data,type,row){
															
															if(row.propietario != null){
																return "Vehículo personal, propietario: "+ data;	
															
															}else{
																return "Autobús número "+ row.autobusId;	
															
															}
															
															
														}
													}
													
													

												]
					
											});
												
												tabla.ajax.reload(null, false);
												$('#asistenciaPartidoModal .modal-header').css("color", "white");
												$('#asistenciaPartidoModal .modal-title').text("Partido "+fecha+", "+hora);
												

						});
						
					};
</script>